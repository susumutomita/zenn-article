---
title: "はじめに"
free: true
---

## ブロックチェインの基本概念と歴史

ブロックチェインとは、取引記録をブロックという単位にまとめて鎖状（チェイン）に連結し、ネットワーク上の多数のコンピュータで共有・管理する分散型の台帳技術です。2008年10月、サトシ・ナカモトによってビットコインのホワイトペーパーが公開され ([ビットコイン（BTC）が誕生11周年　ホワイトペーパー公開までの歴史を振り返る](https://coinpost.jp/?p=115638#:~:text=%E3%83%93%E3%83%83%E3%83%88%E3%82%B3%E3%82%A4%E3%83%B3%E3%81%AF31%E6%97%A5%E3%80%81%E3%83%9B%E3%83%AF%E3%82%A4%E3%83%88%E3%83%9A%E3%83%BC%E3%83%91%E3%83%BC%E3%81%AE%E5%85%AC%E9%96%8B%E6%97%A5%E3%81%8B%E3%82%8911%E5%91%A8%E5%B9%B4%E3%82%92%E8%BF%8E%E3%81%88%E3%81%9F%E3%80%82%E3%83%9B%E3%83%AF%E3%82%A4%E3%83%88%E3%83%9A%E3%83%BC%E3%83%91%E3%83%BC%E3%81%AF2008%E5%B9%B410%E6%9C%8831%E6%97%A5%E3%80%81%E3%82%B5%E3%83%88%E3%82%B7%E3%83%BB%E3%83%8A%E3%82%AB%E3%83%A2%E3%83%88%E3%81%AB%E3%82%88%E3%82%8A%E5%85%AC%E9%96%8B%E3%81%95%E3%82%8C%E3%81%9F%E3%80%82%E4%BB%AE%E6%83%B3%E9%80%9A%E8%B2%A8%E5%8F%96%E5%BC%95%E6%89%80%E3%83%90%20%E3%82%A4%E3%83%8A%E3%83%B3%E3%82%B9%E3%82%92%E3%81%AF%E3%81%98%E3%82%81%E3%80%81%E5%A4%9A%E3%81%8F%E3%81%AE%E4%BA%BA%E3%80%85%E3%81%8C%E3%80%81%E3%81%93%E3%81%AE%E5%81%89%E6%A5%AD%E3%82%92%E7%A5%9D%E7%A6%8F%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E3%80%82))、2009年初頭には最初のブロック（ジェネシスブロック）が生成されてビットコインネットワークが稼働しました。ビットコインは中央管理者不在で二重支払い問題を解決する画期的なシステムとして注目され、これがブロックチェイン技術の幕開けとなりました。

その後、2015年にローンチされたイーサリアム（Ethereum）はブロックチェイン上で**スマートコントラクト**と呼ばれるプログラムを実行できるようにし、ブロックチェインの可能性を大きく拡張しました ([Testing the Ethereum merge](https://antithesis.com/case_studies/ethereum_merge/#:~:text=Ethereum%20is%20a%20decentralized%20blockchain,crypto%20projects%20across%20the%20globe))。スマートコントラクトにより、ブロックチェイン上で通貨の送受信だけでなく、自動的に実行される契約や複雑なアプリケーションを構築できるようになり、分散型アプリケーション(dApps)という新たな分野が開花しました。現在ではEthereumをはじめ多くのブロックチェインプラットフォームが存在し、金融（暗号資産やDeFi）、アート（NFT）、ゲーム（ブロックチェインゲーム）など様々な領域で活用が進んでいます。

**分散型システムの利点:** ブロックチェインのような分散型ネットワークにはいくつもの利点があります。単一の管理者を必要としないため信頼性が高く、ネットワーク全体でデータを検証・保持するため改ざん耐性も強いです。また、システムが冗長化されているので障害に強く、透明性の高い取引記録を残せます。実際、ブロックチェインは安全性、透明性、不変性を備えた分散型システムを構築できる技術として注目されており ([ブロックチェインのレイヤー2とは｜種類や注目点、代表的なネットワークを解説](https://coinpost.jp/?p=450171#:~:text=%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%83%81%E3%82%A7%E3%83%BC%E3%83%B3%E3%81%AF%E5%AE%89%E5%85%A8%E6%80%A7%E3%80%81%E9%80%8F%E6%98%8E%E6%80%A7%E3%80%81%E4%B8%8D%E5%A4%89%E6%80%A7%E3%82%92%E5%82%99%E3%81%88%E3%81%9F%E5%88%86%E6%95%A3%E5%9E%8B%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E3%82%92%E6%A7%8B%E7%AF%89%E3%81%A7%E3%81%8D%E3%82%8B%E5%88%A9%E7%82%B9%E3%81%8C%E3%81%82%E3%82%8A%E3%80%81%E3%81%9D%E3%81%AE%E6%99%AE%E5%8F%8A%E3%81%8C%E9%80%B2%E3%82%93%E3%81%A7%E3%81%84%E3%82%8B%E3%80%82))、中央集権型システムでは実現しにくい信頼の構築を可能にしています。

**分散型システムの課題:** 一方で、ブロックチェイン技術にはいくつかの課題も存在します。代表的なものに**スケーラビリティ（拡張性）**の問題があります。ユーザーやトランザクションの増加に伴い、ネットワーク全体で取引を検証する仕組みのため処理が遅延・非効率になりがちです ([Google Cloud ❤ Web3](https://zenn.dev/google_cloud_jp/articles/0795db18a936ba#:~:text=%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%A9%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%3A%20%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%83%81%E3%82%A7%E3%83%BC%E3%83%B3%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E3%81%AF%E3%80%81%E7%89%B9%E3%81%AB%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E6%95%B0%E3%81%A8%E3%83%88%E3%83%A9%E3%83%B3%E3%82%B6%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E6%95%B0%E3%81%8C%E5%A2%97%E3%81%88%E3%82%8B%E3%81%AB%E3%81%A4%E3%82%8C%E3%81%A6%E3%80%81%E9%81%85%E3%81%8F%E3%81%A6%E9%9D%9E%E5%8A%B9%E7%8E%87%E3%81%AB%E3%81%AA%E3%82%8B%E5%8F%AF%E8%83%BD%E6%80%A7%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82%E3%81%93%E3%82%8C%E3%81%AF%E3%80%81%E3%81%99%E3%81%B9%E3%81%A6%E3%81%AE%E3%83%88%E3%83%A9%20%E3%83%B3%E3%82%B6%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%8C%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E4%B8%8A%E3%81%AE%E3%81%99%E3%81%B9%E3%81%A6%E3%81%AE%E3%83%8E%E3%83%BC%E3%83%89%E3%81%AB%E3%82%88%E3%81%A3%E3%81%A6%E6%A4%9C%E8%A8%BC%E3%81%95%E3%82%8C%E3%82%8B%E5%BF%85%E8%A6%81%E3%81%8C%E3%81%82%E3%82%8B%E3%81%9F%E3%82%81%E3%81%A7%E3%81%82%E3%82%8A%E3%80%81%E3%81%93%E3%82%8C%E3%81%AF%E9%9D%9E%E5%B8%B8%E3%81%AB%E6%99%82%E9%96%93%E3%81%8C%E3%81%8B%E3%81%8B%E3%82%8B%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%E3%81%A8%E3%81%AA%E3%82%8B%E5%8F%AF%E8%83%BD%E6%80%A7%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82))。例えばビットコインやイーサリアムでは1秒間に処理できる取引数が限られており、利用者が急増すると手数料の高騰や取引確認の遅延が発生します。また、ブロックチェイン上で合意を取るコンセンサスアルゴリズム（後述）の種類によってはエネルギー消費が非常に大きくなる（例：Proof of Workによるマイニング競争）点も課題です。このように、分散型ならではのトレードオフとして**性能**や**スケーラビリティ**の問題を克服する必要があり、現在も技術的な改良が続けられています。

## なぜZigを使うのか？EVM互換ブロックチェインを作る理由

本書ではブロックチェインの実装言語に**Zig**を採用します。Zigは2015年頃に登場した比較的新しいオープンソースのプログラミング言語で、C言語の現代的な代替を目指して作られました ([世界のプログラミング言語(44) シンプルで現代的なZig言語、RustやC++が複雑すぎると嘆く人の福音となるか | TECH+（テックプラス）](https://news.mynavi.jp/techplus/article/programinglanguageoftheworld-44/#:~:text=Zig%E3%81%AF2015%E5%B9%B4%E3%81%AB%E7%99%BB%E5%A0%B4%E3%81%97%E3%81%9F%E6%96%B0%E3%81%97%E3%81%84%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E%E3%81%A7%E3%81%99%E3%80%82Go%E8%A8%80%E8%AA%9E%E3%82%84Rust%E8%A8%80%E8%AA%9E%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E3%80%81C%E8%A8%80%E8%AA%9E%E3%81%AE%E7%BD%AE%E3%81%8D%E6%8F%9B%E3%81%88%E3%82%92%E7%9B%AE%E6%A8%99%E3%81%AB%E3%81%97%E3%81%9F%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%A9%E8%A8%80%E8%AA%9E%E3%81%A7%E3%81%99%E3%80%82%E3%81%9D%E3%81%AE%E6%9C%80%20%E5%A4%A7%E3%81%AE%E7%89%B9%E5%BE%B4%E3%81%AF%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%A7%E3%81%82%E3%82%8B%E3%81%93%E3%81%A8%E3%81%A7%E3%81%99%E3%80%82%E7%A2%BA%E3%81%8B%E3%81%AB%E3%80%81%E3%83%9E%E3%82%AF%E3%83%AD%E3%82%82%E3%83%97%E3%83%AA%E3%83%97%E3%83%AD%E3%82%BB%E3%83%83%E3%82%B5%E3%82%82%E3%81%82%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%81%8C%E3%80%81%E7%8F%BE%E4%BB%A3%E7%9A%84%E3%81%AA%E8%A8%80%E8%AA%9E%E3%81%AB%E4%BB%95%E4%B8%8A%E3%81%8C%E3%81%A3%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%E3%80%82%E6%9C%80%E8%BF%91%E8%A9%B1%E9%A1%8C%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%93%E3%81%A8%E3%81%8C%E5%A2%97%E3%81%88%E3%81%A6%E3%81%8D%E3%81%9F%E3%81%AE%E3%81%A7%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%81%BE%E3%81%97%E3%82%87%20%E3%81%86%E3%80%82))。低レベルな制御と高い実行性能を備えつつ、安全性とシンプルさを両立した設計が特徴です。主な特徴として、明示的なメモリ管理とエラーハンドリング、コンパイル時実行機能、そしてC言語との高い互換性などが挙げられます ([Zigプログラミング言語とは？RustやC++との違いを解説 – せせらブログ](https://sesera231.com/archives/7703#:~:text=,C%E8%A8%80%E8%AA%9E%E3%81%A8%E3%81%AE%E7%9B%B8%E4%BA%92%E9%81%8B%E7%94%A8%E6%80%A7%E3%81%8C%E9%AB%98%E3%81%84))。ガベージコレクションを持たないため予測しやすいパフォーマンスが得られ、システムプログラミングや組み込み開発の分野で注目を集めています。

**他の言語との比較:** Zigを使う理由の一つは、そのシンプルさと制御性にあります。例えば同じシステムプログラミング向け言語でも、Rustは所有権システムによる高いメモリ安全性を提供しますが、その分学習コストが高く、低レベルコードを書く際には複雑なルールに直面します。Zigには所有権や借用といった概念がないため低レベルのコードを書きやすく、いわば「Cを少しだけ安全で便利にしたモダンな言語」を目指しています ([Zigのすすめ Rustとの比較 #ZIG - Qiita](https://qiita.com/lechatthecat/items/d448727b817b7b03b535#:~:text=%E4%B8%80%E6%96%B9%E3%81%A7%E3%80%81%E3%80%8CC%E3%81%AE%E3%82%88%E3%81%86%E3%81%AB%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%A0%E3%81%91%E3%81%A9%E3%80%81%E3%82%82%E3%81%86%E5%B0%91%E3%81%97%E4%BE%BF%E5%88%A9%E3%81%AA%E6%A9%9F%E8%83%BD%E3%82%84%E5%8E%B3%E6%A0%BC%E3%81%AA%E5%9E%8B%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%81%8C%E6%AC%B2%E3%81%97%E3%81%84%E3%80%8D%E3%81%A8%E3%81%84%E3%81%A3%E3%81%9F%E3%83%8B%E3%83%BC%E3%82%BA%E3%81%AB%E5%AF%BE%E3%81%97%E3%81%A6%E3%81%AF%E3%80%81Zig%E3%81%AE%E3%82%88%E3%81%86%E3%81%AA%E3%82%A2%E3%83%97%E3%83%AD%E3%83%BC%E3%83%81%E3%81%AF%E9%9D%9E%E5%B8%B8%E3%81%AB%E9%AD%85%E5%8A%9B%E7%9A%84%E3%81%AB%E8%A6%8B%E3%81%88%E3%81%BE%E3%81%99%E3%80%82Z%20ig%E3%81%AF%E6%89%80%E6%9C%89%E6%A8%A9%E3%82%84%E5%80%9F%E7%94%A8%E3%81%AA%E3%81%A9%E3%81%AE%E6%A6%82%E5%BF%B5%E3%81%8C%E3%81%AA%E3%81%84%E3%81%9F%E3%82%81%E3%80%81%E4%BD%8E%E3%83%AC%E3%83%99%E3%83%AB%E3%81%AB%E8%B8%8F%E3%81%BF%E8%BE%BC%E3%82%93%E3%81%A0%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E6%9B%B8%E3%81%8F%E9%9A%9B%E3%81%AE%E7%85%A9%E3%82%8F%E3%81%97%E3%81%95%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%80%82%E8%A8%80%E3%81%84%E6%8F%9B%E3%81%88%E3%82%8B%E3%81%A8%E3%80%81%E2%80%9CC%E3%82%92%E3%81%A1%E3%82%87%E3%81%A3%E3%81%A8%E3%81%A0%E3%81%91%E5%AE%89%E5%85%A8%E3%83%BB%E4%BE%BF%E5%88%A9%E3%81%AB%E3%81%97%E3%81%9F%E3%83%A2%E3%83%80%E3%83%B3%E3%81%AA%E8%A8%80%E8%AA%9E))。実際、Rustと比べて文法やルールがシンプルで学習のハードルが低く、コンパイル速度も高速である傾向があります ([Zigプログラミング言語とは？RustやC++との違いを解説 – せせらブログ](https://sesera231.com/archives/7703#:~:text=,%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E9%80%9F%E5%BA%A6%E3%81%AFZig%E3%81%AE%E6%96%B9%E3%81%8C%E9%80%9F%E3%81%84%E5%82%BE%E5%90%91))。一方、C++と比較すると、Zigは言語仕様がはるかに小さく整然としており、暗黙的な動作やマクロ機能を排して可読性・保守性を高めています ([Zigプログラミング言語とは？RustやC++との違いを解説 – せせらブログ](https://sesera231.com/archives/7703#:~:text=,%E3%82%AC%E3%83%99%E3%83%BC%E3%82%B8%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%8C%E3%81%AA%E3%81%84%E7%82%B9%E3%81%AF%E5%85%B1%E9%80%9A))。ガベージコレクションを持たないという点ではGoやC++、Rustと共通しますが、Goと比べてもZigはより低レイヤーに踏み込んだ制御が可能であり、細かな最適化やリソース管理を自前で行える強みがあります。このような理由から、本書ではブロックチェインのようにパフォーマンスと信頼性が要求されるシステムを実装する言語としてZigを選択しました。

**EVM互換にする理由:** 加えて、本書が目指すブロックチェインは**EVM互換**とします。EVM（Ethereum Virtual Machine）とは、前述のEthereumが採用するスマートコントラクト実行環境のことで、Ethereumにおける取引やコントラクトのロジックはすべてEVM上で動作します。EVM互換のチェインにすることで、既存のEthereum向けツールやライブラリ、ウォレット（Metamaskなど）をそのまま利用でき、Solidityなどで書かれたスマートコントラクトをデプロイして動作させることが可能になります。現在EVMは事実上Web3開発者にとっての標準プラットフォームとなっており、活発な開発者コミュニティと多数の互換チェイン（高い時価総額を持つプロジェクト群）によって支えられています ([レイヤ 1 ブロックチェインが EVM の完全な互換性を目指すべき理由は次のとおりです | HackerNoon](https://hackernoon.com/lang/ja/%E3%83%AC%E3%82%A4%E3%83%A4-1-%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%83%81%E3%82%A7%E3%83%BC%E3%83%B3%E3%81%8C%E5%AE%8C%E5%85%A8%E3%81%AA-evm-%E4%BA%92%E6%8F%9B%E6%80%A7%E3%82%92%E7%9B%AE%E6%8C%87%E3%81%99%E3%81%B9%E3%81%8D%E7%90%86%E7%94%B1%E3%81%AF%E3%81%93%E3%81%93%E3%81%AB%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99#:~:text=%E6%B4%BB%E7%99%BA%E3%81%AA%E9%96%8B%E7%99%BA%E8%80%85%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%83%86%E3%82%A3%E3%81%A8%E4%BA%92%E6%8F%9B%E6%80%A7%E3%81%AE%E3%81%82%E3%82%8B%E6%99%82%E4%BE%A1%E7%B7%8F%E9%A1%8D%E3%81%AE%E9%AB%98%E3%81%84%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%83%81%E3%82%A7%E3%83%BC%E3%83%B3%E3%81%8C%E5%A4%9A%E6%95%B0%E3%81%82%E3%82%8B%20EVM%20%E3%81%AF%E3%80%81Web3%20%E9%96%8B%E7%99%BA%E8%80%85%E3%81%AB%E3%81%A8%E3%81%A3%E3%81%A6%E3%81%AE%E4%BA%8B%E5%AE%9F%E4%B8%8A%E3%81%AE%E6%A8%99%E6%BA%96%E3%81%A7%E3%81%99%E3%80%82%E6%A5%AD%E7%95%8C%E3%81%8C%E5%9B%9E%E5%BE%A9%E3%81%AE%E6%BA%96%E5%82%99%E3%82%92%E3%81%97%E3%81%A6%E3%81%84%20%E3%82%8B%E3%81%9F%E3%82%81%E3%80%81%E4%BB%96%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%83%A0%E3%83%AF%E3%83%BC%E3%82%AF%E4%B8%8A%E3%81%AB%E6%A7%8B%E7%AF%89%E3%81%95%E3%82%8C%E3%81%9F%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%83%81%E3%82%A7%E3%83%BC%E3%83%B3%E3%81%AF%E3%80%81%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%83%81%E3%82%A7%E3%83%BC%E3%83%B3%E3%81%B8%E3%81%AE%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88%E3%81%AE%E8%BF%BD%E5%8A%A0%E3%82%92%E5%84%AA%E5%85%88%E3%81%99%E3%82%8B%E5%BF%85%E8%A6%81%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82))。自前でブロックチェインを作るにしてもEVMと互換性を持たせることで、この巨大なエコシステムの恩恵にあずかることができるのです。要するに、ゼロからブロックチェインを実装しつつも、スマートコントラクトやdAppが動くプラットフォームとして実用的なものを目指すために、EVM互換という目標を掲げています。

## 本書の対象読者と前提知識

本書は、**ブロックチェインやスマートコントラクトの基礎知識を持ち、さらに深く理解したいエンジニア**を主な対象としています。以下のような読者に向けて執筆しています。

- **ブロックチェインの基本を触ったことがある人:** ビットコインやイーサリアムなどを使ったことがある、あるいはブロックチェインの概念を一通り学んだことがある方。トランザクションやマイニングといった用語に馴染みがあることを前提に進めます。
- **Solidityやスマートコントラクト開発に興味がある人:** 分散型アプリケーション（dApp）の開発やEthereum上でのスマートコントラクトに興味を持っている方。本書ではEVM互換チェインを実装する過程で、スマートコントラクトがブロックチェイン上でどう動くかも扱いますので、その点に興味がある読者に有益です。
- **Zigに興味があり、実践的なプロジェクトで学びたい人:** Zig言語自体に興味がある方や、新しいシステムプログラミング言語を触れてみたい方。本書では実際のブロックチェインという大型プロジェクトを題材にZigのコードを書いていくため、言語の学習と応用を同時に体験できます。

前提として、何らかのプログラミング言語での開発経験があることを想定しています（C言語やRust, Go, C++などシステムレベルの言語経験があれば尚良いですが、必須ではありません）。またブロックチェイン特有の暗号技術やネットワークの知識については序盤で解説しますが、基本的な概念を知っていると理解がスムーズになるでしょう。

## 各章で扱う内容の概要（ロードマップ）

本書はステップバイステップでシンプルなブロックチェインを作り上げ、機能を拡張していく構成になっています。各章の大まかなロードマップは次の通りです。

1. **ブロックチェインの基本的な実装:** 最初に、ブロックチェインのコアとなるデータ構造と機能を実装します。ブロックやトランザクションの構造を定義し、ハッシュチェインによるブロックの連結や、簡単なプルーフ・オブ・ワーク（PoW）によるマイニングを行えるようにします。まずは単一ノード上で動くシンプルなブロックチェインを作成し、ブロック生成と検証の流れを理解します。

2. **ネットワーク化と分散ノード:** 次に、作成したブロックチェインをネットワーク対応させ、複数のノードで分散稼働できるようにします。P2Pネットワーク上でノード間がブロックやトランザクションをやり取りし、全ノードで台帳を同期する仕組みを実装します。ここではノード間通信のプロトコル設計やブロードキャストの方法、基本的な**合意形成**（コンセンサス）の考え方を学びます。

3. **コンセンサスアルゴリズム（PoWとPoS）:** ブロックチェインの肝であるコンセンサスアルゴリズムについて、代表的なProof of Work（仕事量証明）とProof of Stake（保有量証明）を中心に解説・実装します。前章までで実装したPoWを拡張し、難易度調整やブロック承認の仕組みを掘り下げます。また、可能であれば簡易的なPoSの実験的実装や、他のコンセンサスメカニズム（例: Byzantine Fault Tolerance系）の紹介も行い、それぞれの利点・欠点を考察します。

4. **スマートコントラクトとEVM互換:** いよいよブロックチェイン上でスマートコントラクトを動かす仕組みを作ります。本章ではEthereumのEVMをモデルに、シンプルなバイトコード実行環境（仮想マシン）を実装し、トランザクションによってコントラクトのコードを保存・実行できるようにします。Solidityで書かれたコントラクトをコンパイルしたバイトコードを我々のチェイン上で実行し、Ethereumと同様に状態遷移やガス消費の概念を再現します。難易度は高いですが、EVM互換にすることで既存の豊富なツール群を活用できるようになり、実用的なブロックチェインに一歩近づきます。

5. **最新技術への対応と発展的トピック:** 最終章では、現在注目されているブロックチェインの最新技術動向に触れ、本書で作成したチェインへの応用可能性を探ります。例えば、ゼロ知識証明を活用した新技術である**zkTLS**（Zero-Knowledge TLS）の概念を紹介し、ブロックチェインとWeb2のデータ連携を安全に行う仕組みについて考察します。そのほか、スケーラビリティ向上のためのレイヤー2技術やブロックチェインの相互運用（ブリッジやクロスチェイン）、分散型識別子(DID)や最新の暗号アルゴリズムなど、チェイン開発の次のステップとなり得るトピックについて議論します。最後に、本書の集大成としてEVM互換チェインの全体像を振り返り、読者が今後独自に機能拡張や新機能の実装に挑戦できるよう展望を示します。

以上のような流れで章立てを行い、徐々に機能を追加しながら最終的にEVM互換のブロックチェインを完成させていきます。

## 執筆スタイルと進め方

本書は実装重視のハンズオンスタイルで進めていきます。各章では具体的な機能をテーマに据え、実際のZigコードを書きながら解説を行います。文章だけでなくコードリストを交え、読者の皆さんが手を動かして試せるように構成しています。可能な限りカジュアルで親しみやすい語り口で説明しますが、内容は技術的に正確であることを重視しています。専門用語や難しい概念については丁寧に補足し、ブロックチェイン初心者の方でも理解を深められるよう配慮しています。

実装したコードは章ごとにGitHubの[リポジトリ](https://github.com/susumutomita/BlockChain)で公開していきます。読者はそのコードをクローンして実行したり、自分で改良を加えたりすることができます。また、本書の原稿もGitHub上の[`zenn-article`リポジトリ](https://github.com/susumutomita/zenn-article)で管理し、誤字脱字の修正や読者からのフィードバック反映を行いながら執筆を進めます。最終的にはZennの記事として公開し、オンラインで幅広く読める形にする予定です。
